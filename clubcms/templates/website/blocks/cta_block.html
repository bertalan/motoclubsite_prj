{% load wagtailcore_tags wagtailimages_tags %}

<section class="block-cta" data-style="{{ self.background_style|default:'primary' }}"
    {% if self.background_image %}
        {% image self.background_image fill-1920x600 as bg_img %}
        style="background-image: url('{{ bg_img.url }}');"
    {% endif %}>
    <div class="container">
        <h2 class="block-cta__title">{{ self.title }}</h2>
        {% if self.text %}
        <div class="block-cta__text">{{ self.text }}</div>
        {% endif %}
        {% if self.button_text %}
            {% if self.button_link %}
            <a href="{% pageurl self.button_link %}" class="btn btn-primary">{{ self.button_text }}</a>
            {% elif self.button_url %}
            <a href="{{ self.button_url }}" class="btn btn-primary" target="_blank" rel="noopener noreferrer">{{ self.button_text }}</a>
            {% endif %}
        {% endif %}
    </div>
</section>
