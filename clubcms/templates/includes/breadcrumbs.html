{% load wagtailcore_tags i18n %}

<nav class="breadcrumbs" aria-label="{% trans 'Breadcrumb' %}">
  <div class="container">
    <ol class="breadcrumbs__list" itemscope itemtype="https://schema.org/BreadcrumbList">
        <li class="breadcrumbs__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a href="/" class="breadcrumbs__link" itemprop="item">
                <span itemprop="name">Home</span>
            </a>
            <meta itemprop="position" content="1">
        </li>
        {% for ancestor in page.get_ancestors|slice:"2:" %}
        <li class="breadcrumbs__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <span class="breadcrumbs__separator" aria-hidden="true">/</span>
            <a href="{% pageurl ancestor %}" class="breadcrumbs__link" itemprop="item">
                <span itemprop="name">{{ ancestor.title }}</span>
            </a>
            <meta itemprop="position" content="{{ forloop.counter|add:1 }}">
        </li>
        {% endfor %}
        <li class="breadcrumbs__item breadcrumbs__item--current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" aria-current="page">
            <span class="breadcrumbs__separator" aria-hidden="true">/</span>
            <span class="breadcrumbs__current" itemprop="name">{{ page.title }}</span>
            <meta itemprop="position" content="{{ page.get_ancestors.count }}">
        </li>
    </ol>
  </div>
</nav>
